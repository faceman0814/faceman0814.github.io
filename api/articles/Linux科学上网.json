{"title":"Dockerå®ç°Linuxç§‘å­¦ä¸Šç½‘","uid":"db862bea918e56d5ebf1541d0aa7193d","slug":"Linuxç§‘å­¦ä¸Šç½‘","date":"2024-11-30T16:33:41.616Z","updated":"2024-12-01T01:45:11.961Z","comments":true,"path":"api/articles/Linuxç§‘å­¦ä¸Šç½‘.json","keywords":null,"cover":"https://github.com/faceman0814/picx-images-hosting/raw/master/Qexo/24/11/image_3e7b0590d52851dcc8ca00f618db22f7.png","content":"<p>æ²¡æƒ³åˆ°æˆ‘è¿˜èƒ½åœ¨Clashè¿™é‡Œåƒäºï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä»¥å‰åªç©è¿‡gitlabçš„CICDï¼Œå®˜æ–¹çš„è¦é’±ï¼Œè‡ªå·±éƒ¨ç½²çš„è¯æœåŠ¡å™¨é…ç½®æœ‰è¦æ±‚ï¼Œè€Œä¸”æˆ‘çš„é¡¹ç›®åŸºæœ¬éƒ½å¼€æºï¼Œæ‰€ä»¥ä»Šå¤©å‡†å¤‡ç ”ç©¶ä¸‹GitHubçš„CICDâ€”â€”Github Actionsã€‚ç»è¿‡ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å‡†å¤‡äº†ä¸€ä¸ªå«webtestçš„é•œåƒï¼Œç„¶ååœ¨æˆ‘99ä¸€å¹´çš„é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šå‡†å¤‡æ‹‰ä¸‹æ¥åšå®éªŒï¼Œå‘ç°ï¼Œæ‹‰ä¸ä¸‹æ¥ï¼æŠ¥é”™å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error response from daemon: Get â€œhttps://registry-1.docker.io/v2/â€: context deadline exceeded</span><br></pre></td></tr></table></figure>\n\n<p>ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ–¹æ³•æ— éå‡ ç§ï¼š</p>\n<ul>\n<li>æ”¹DNS</li>\n<li>é…ç½®å…¶ä»–é•œåƒæº</li>\n<li>ä¸Šä»£ç†</li>\n</ul>\n<p>æˆ‘è¿™é‡Œå› ä¸ºæ˜¯ä¸Šä¼ åˆ°dockerçš„å®˜æ–¹é•œåƒä»“åº“ï¼Œæ‰€ä»¥æ”¹DNSå’Œé•œåƒæºæ²¡æœ‰ç”¨ï¼Œæ‰€ä»¥å°±å‰©ä¸€æ‹›äº†ï¼Œä¸Šä»£ç†ã€‚</p>\n<p>äºæ˜¯ï¼Œæˆ‘å°±å¼€å§‹å¾€Ubuntuä¸ŠæŠ˜è…¾Clashï¼Œå› ä¸ºæˆ‘ä¹‹å‰å¼„è¿‡Clashï¼Œä½†æˆ‘ä¸è®°å¾—æˆ‘ä¸ºå•¥å…³äº†ï¼Œç”¨çš„æ˜¯Ubuntuç³»ç»Ÿä¸‹systemctl start clashçš„å¯åŠ¨æ–¹å¼ï¼Œå…·ä½“çš„å¯ä»¥å‚è€ƒæˆ‘çš„æ–‡ç« ï¼š<a href=\"https://www.notion.so/Clash-for-Ubuntu-c245bda433d24d07ad1d5e5b84734fdb\">Clash for Ubuntu</a>ï¼Œé—®é¢˜åˆæ¥äº†ï¼Œæˆ‘å‘ç°å®˜æ–¹æä¾›çš„é“¾æ¥é¢æ¿<a href=\"https://clash.razord.top/#/proxies\">Clash (razord.top)</a>æ­»æ´»è¿ä¸ä¸Šï¼Œè¦ä¹ˆæŠ¥è·¨åŸŸï¼Œè¦ä¹ˆå°±æ˜¯Net Errorå•¥çš„ï¼Œæˆ‘æŸ¥äº†ä¸‹ç›¸å…³issueï¼Œclashçš„è®¾è®¡é—®é¢˜ï¼Œæœ€å¥½æ˜¯è®¾ç½®å¯†ç ï¼Œäºæ˜¯æˆ‘åˆå»config.ymlè®¾ç½®å¯†ç ï¼Œä½†å‘ç°å¶å°”èƒ½è¿ä¸Šï¼Œå¤§éƒ¨åˆ†æ—¶é—´è¿ä¸ä¸Šï¼Œä¸ç¨³å®šã€‚äºæ˜¯æˆ‘åˆæ…¢æ…¢æœç´¢è§£å†³æ–¹æ¡ˆï¼Œå‘ç°å¯ä»¥ç”¨yacdæ¥è§£å†³ï¼Œè¿™ä¸ªä¹Ÿæœ‰æä¾›å®˜æ–¹çš„é“¾æ¥<a href=\"http://yacd.haishan.me/\">yacd (haishan.me)</a>ä¾›ä½ ä½¿ç”¨ï¼Œä½†æˆ‘è¯•äº†ä¸‹å¶å°”ä¹Ÿä¸ç¨³å®šï¼Œäºæ˜¯æˆ‘è‡ªå·±éƒ¨ç½²ï¼Œä¸€ä¸‹å°±æå®šäº†ï¼ä½†è¿™é‡Œæœ‰ä¸ªè¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å¦‚æœä½ åŠ äº†è¯ä¹¦ï¼Œé‚£ä¹ˆä¸¤ä¸ªéƒ½è¦åŠ ä¸ç„¶ä¹Ÿè¯†åˆ«ä¸åˆ°ã€‚</p>\n<h2 id=\"Dockeræ•™ç¨‹\"><a href=\"#Dockeræ•™ç¨‹\" class=\"headerlink\" title=\"Dockeræ•™ç¨‹\"></a>Dockeræ•™ç¨‹</h2><p>è¿™é‡Œæˆ‘æä¾›ä¸€ä¸ªDockerComposeæ¥éƒ¨ç½²ï¼Œç”¨systemctléƒ¨ç½²éº»çƒ¦å¾—å¾ˆï¼Œè¿˜è¦æƒ³åŠæ³•æ‰¾æºæ–‡ä»¶,è€Œä¸”æœ‰æ›´æ”¹çš„è¯å¾ˆéº»çƒ¦ï¼Œdockeræ–¹ä¾¿ã€‚</p>\n<p>é¦–å…ˆï¼Œå»ä»£ç†è½¯ä»¶å¤åˆ¶èŠ‚ç‚¹è®¢é˜…åœ°å€,å‡†å¤‡ä¸€ä¸ªconfig.ymlé…ç½®æ–‡ä»¶ï¼Œæ”¾åˆ°&#x2F;root&#x2F;.config&#x2F;clashè·¯å¾„ä¸‹ï¼Œå‚è€ƒ<a href=\"https://www.notion.so/Clash-for-Ubuntu-c245bda433d24d07ad1d5e5b84734fdb\">Clash for Ubuntu (notion.so)</a>è·å–è¿™é‡Œæˆ‘ä¸é‡å¤è¯´æ˜ã€‚</p>\n<p>ç„¶åè®¾ç½®å¯†ç <br><img src=\"https://github.com/faceman0814/picx-images-hosting/raw/master/Qexo/24/12/image_be2a09eba940682146758dae26459a36.png\"></p>\n<p>å†ç„¶ååˆ›å»ºclash&#x2F;docker-compose.ymlæ–‡ä»¶</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">version: &#x27;3.9&#x27;</span><br><span class=\"line\">services:</span><br><span class=\"line\">  yacd:</span><br><span class=\"line\">    image: ghcr.io/haishanh/yacd:master</span><br><span class=\"line\">    container_name: yacd</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - &quot;1234:80&quot;</span><br><span class=\"line\">    restart: unless-stopped</span><br><span class=\"line\"></span><br><span class=\"line\">  clash:</span><br><span class=\"line\">    image: dreamacro/clash</span><br><span class=\"line\">    container_name: clash</span><br><span class=\"line\">    volumes:</span><br><span class=\"line\">      - ./.config/clash:/root/.config/clash</span><br><span class=\"line\">      # - ./ui:/ui # dashboard volume (uncomment if needed)</span><br><span class=\"line\">    ports:</span><br><span class=\"line\">      - &quot;7890:7890&quot;</span><br><span class=\"line\">      - &quot;7891:7891&quot;</span><br><span class=\"line\">      # - &quot;8080:8080&quot; # external controller (Restful API, uncomment if needed)</span><br><span class=\"line\">    # TUN capabilities (uncomment if needed)</span><br><span class=\"line\">    # cap_add:</span><br><span class=\"line\">    #   - NET_ADMIN</span><br><span class=\"line\">    # devices:</span><br><span class=\"line\">    #   - /dev/net/tun</span><br><span class=\"line\">    restart: unless-stopped</span><br><span class=\"line\">    network_mode: &quot;host&quot;  # use &quot;bridge&quot; mode in non-Linux environments if required</span><br></pre></td></tr></table></figure>\n\n<p>å†å†ç„¶åæ‰§è¡Œ<code>docker compose up -d</code></p>\n<p>å¦‚æœæ˜¯äº‘æœåŠ¡å™¨è®°å¾—å¼€æ”¾1234å’Œ9090ç«¯å£</p>\n<p><img src=\"https://github.com/faceman0814/picx-images-hosting/raw/master/Qexo/24/12/image_f70375848c68c335f16e54ed33ce2288.png\"></p>\n<p>PSï¼šæœ‰æ—¶å€™æœ‰ä»£ç†ä¹Ÿæ‹‰ä¸åˆ°dockerå®˜æ–¹çš„é•œåƒï¼Œç½‘ç»œé—®é¢˜ï¼Œåƒåœ¾çš„å¾ˆï¼Œæ‰€ä»¥å»ºè®®å¤§å®¶è‡ªå·±çš„é•œåƒå¯ä»¥æ”¾åˆ°è‡ªå·±çš„ç§æœ‰ä»“åº“é‡Œã€‚</p>\n","feature":false,"text":"æ²¡æƒ³åˆ°æˆ‘è¿˜èƒ½åœ¨Clashè¿™é‡Œåƒäºï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä»¥å‰åªç©è¿‡gitlabçš„CICDï¼Œå®˜æ–¹çš„è¦é’±ï¼Œè‡ªå·±éƒ¨ç½²çš„è¯æœåŠ¡å™¨é…ç½®æœ‰è¦æ±‚ï¼Œè€Œä¸”æˆ‘çš„é¡¹ç›®åŸºæœ¬éƒ½å¼€æºï¼Œæ‰€ä»¥ä»Šå¤©å‡†å¤‡...","permalink":"/post/Linuxç§‘å­¦ä¸Šç½‘","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"DevOps","slug":"DevOps","count":11,"path":"api/categories/DevOps.json"}],"tags":[{"name":"Docker","slug":"Docker","count":6,"path":"api/tags/Docker.json"},{"name":"Clash","slug":"Clash","count":1,"path":"api/tags/Clash.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Docker%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">Dockeræ•™ç¨‹</span></a></li></ol>","author":{"name":"FaceMan","slug":"blog-author","avatar":"https://github.com/faceman0814/picx-images-hosting/raw/master/20241114/image.2vermeukr5.webp","link":"/","description":"ä»0å¼€å§‹ï¼Œç›´åˆ°1ã€‚","socials":{"github":"https://github.com/faceman0814","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/manmanzainuli","juejin":"","customs":{"bokeyuan":{"icon":"/svg/bokeyuan.svg","link":"https://www.cnblogs.com/FaceMan"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"æˆ‘åœ¨äººé—´å‡‘æ•°çš„ç¬¬8865å¤©","uid":"2f6f4322594661f0414df8fc201523ed","slug":"2024.12.24æ—¥å¸¸å°è®°","date":"2024-12-24T01:56:11.053Z","updated":"2024-12-24T01:56:20.909Z","comments":true,"path":"api/articles/2024.12.24æ—¥å¸¸å°è®°.json","keywords":null,"cover":"https://github.com/faceman0814/picx-images-hosting/raw/master/Qexo/24/12/image_486ded1f771e374c316e9da3db6c0b2e.png","text":"éšä¾¿å­å­æœ‰æ—¶å€™æƒ³æˆä¸ºä¸€ä¸ªæœ‰æ€æƒ³æ·±åº¦çš„äººï¼Œä½†å¥ˆä½•è¯»ä¹¦å¤ªå°‘æ²¡å•¥æ–‡åŒ–ï¼Œçœ‹ä¹¦äºæˆ‘è€Œè¨€è·Ÿå‚¬çœ æ— å·®åˆ«ï¼Œäºæ˜¯æˆ‘æ”¾å¼ƒğŸ™„ ã€‚ æœ€è¿‘å–œæ¬¢ä¸€ä¸ªæ³°å›½å¥³æ¼”å‘˜Ormï¼Œå¥¹èº«ä¸Šè“¬å‹ƒçš„ç”Ÿå‘½åŠ›å’Œæ˜...","permalink":"/post/2024.12.24æ—¥å¸¸å°è®°","photos":[],"count_time":{"symbolsCount":304,"symbolsTime":"1 mins."},"categories":[{"name":"æ—¥å¸¸","slug":"æ—¥å¸¸","count":2,"path":"api/categories/æ—¥å¸¸.json"}],"tags":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","count":1,"path":"api/tags/æ‚è°ˆ.json"}],"author":{"name":"FaceMan","slug":"blog-author","avatar":"https://github.com/faceman0814/picx-images-hosting/raw/master/20241114/image.2vermeukr5.webp","link":"/","description":"ä»0å¼€å§‹ï¼Œç›´åˆ°1ã€‚","socials":{"github":"https://github.com/faceman0814","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/manmanzainuli","juejin":"","customs":{"bokeyuan":{"icon":"/svg/bokeyuan.svg","link":"https://www.cnblogs.com/FaceMan"}}}},"feature":false},"next_post":{"title":" Dockeræ‹‰å–netsdké•œåƒ","uid":"effef2644cf5d4dbdf4ef3a751e9c7bc","slug":"dockeræ‹‰å–netsdké•œåƒ","date":"2024-11-29T00:00:00.000Z","updated":"2024-12-24T01:56:35.265Z","comments":true,"path":"api/articles/dockeræ‹‰å–netsdké•œåƒ.json","keywords":null,"cover":"https://github.com/faceman0814/picx-images-hosting/raw/master/Qexo/24/11/image_519a183df02cb543cc73a046fcdd76e9.png","text":"åœ¨å†™DockerFileæ–‡ä»¶æ—¶ï¼Œå‘ç°ç›´æ¥æ‹‰å–mcr.microsoft.com/dotnet/sdk:9.0æŠ¥é”™ï¼š 123PS D:\\Study\\Demos\\D...","permalink":"/post/dockeræ‹‰å–netsdké•œåƒ","photos":[],"count_time":{"symbolsCount":470,"symbolsTime":"1 mins."},"categories":[{"name":"DevOps","slug":"DevOps","count":11,"path":"api/categories/DevOps.json"}],"tags":[{"name":"Docker","slug":"Docker","count":6,"path":"api/tags/Docker.json"},{"name":".Net SDK","slug":"Net-SDK","count":1,"path":"api/tags/Net-SDK.json"}],"author":{"name":"FaceMan","slug":"blog-author","avatar":"https://github.com/faceman0814/picx-images-hosting/raw/master/20241114/image.2vermeukr5.webp","link":"/","description":"ä»0å¼€å§‹ï¼Œç›´åˆ°1ã€‚","socials":{"github":"https://github.com/faceman0814","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/manmanzainuli","juejin":"","customs":{"bokeyuan":{"icon":"/svg/bokeyuan.svg","link":"https://www.cnblogs.com/FaceMan"}}}},"feature":false}}